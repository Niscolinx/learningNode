<%- include('../includes/head.ejs') %>

</head>

<body>
    <div class="container">

        <%- include('../includes/navigation.ejs') %>

        <main>
            <% if(products.length > 0) { %>
            <div class="center center__col">
                <h1>My Products</h1>
                <p>List of all the products...</p>
            </div>
            <div class="grid">
                <% for(let item of products) { %>
                <article class="card product-item">
                    <header class="card__header">
                        <h1 class="product__title"><%= item.title %></h1>
                    </header>
                    <div class="card__image">
                        <img src="<%= item.imgUrl %>" alt="A Book">
                    </div>
                    <div class="card__content">
                        <h2 class="product__price">$<%= item.price %></h2>
                        <p class="product__description"><%= item.description %></p>
                    </div>
                    <div class="card__actions">
                        <form method="POST" action="/cart" >
                            <input type="hidden" name="cartTitle" value= "<%= item.title %>" >
                            <input type="hidden" name="cartId" value= <%= item.id %> >                              
                              <button class="btn product-btn" >Add to Cart</button>
                        </form>

                        <form method="POST" action="/admin/edit-product" >
                            <input type="hidden" name="cartId" value= <%= item.id %> >                              
                              <button class="btn product-btn">Edit product</button>
                        </form>
                    </div>
                   
                </article>
                <% } %>
                <% } else { %>
                <h2 class="center">No products found</h2>
                <% } %>
            </div>
        </main>
    </div>
    <%- include('../includes/end.ejs') %>